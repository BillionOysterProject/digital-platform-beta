---
page:
    body_class: 'container mt-1'
    view:       'Sign Up'

bindings:
-   name:     'orgs'
    resource: '/api/school-orgs/'
    params:
        limit:  false
        sort:   ['name']

-   name:  nycSchoolLocations
    resource: 'https://data.cityofnewyork.us/resource/r2nx-nhxe.json' 
    param_joiner: ','
    params:
        $limit: 15000
        $select: 
        - ats_system_code
        - council_district
        - grades_text
        - location_1_address
        - location_1_city
        - location_1_state
        - location_1_zip
        - location_category_description
        - nta_name
        - location_type_description  
        - location_name
---
<section class="content">
    <form
        class="signup"
        action="/api/auth/signup"
        method="POST"
    >
        <div class="row">
            <div class="offset-md-1 col-md-8">
                <p>Already have an account? <a href="/authentication/signin">Sign in</a></p>
                <div class="alert alert-info" role="alert" style="color:#2c3c56">
                    <p>
                        Sign up for an account <strong>if you're an adult who will be entering data via the platform</strong>.
                        <br/>
                        Once you've attended an Oyster Research Training, we'll approve your account so you can enter data.
                    </p>
                    <p>
                        Students no longer need to sign up for a platform account!
                    </p>
                </div>

                <!-- FIRST NAME -->
                <!-- =============================================================================================== -->
                <div class="row">
                    <div class="form-group col-sm-8" show-errors>
                        <label for="firstName">First Name</label>
                        <input 
                            type="text" 
                            id="firstName" 
                            name="firstName" 
                            class="form-control" 
                            placeholder="First Name" 
                            required
                        >
                        <div role="alert">
                            <p class="help-block error-text">First name is required.</p>
                        </div>
                    </div>
                </div>

                <!-- LAST NAME -->
                <!-- =============================================================================================== -->
                <div class="row">
                    <div class="form-group col-sm-8" show-errors>
                        <label for="lastName">Last Name</label>
                        <input 
                            type="text" 
                            id="lastName" 
                            name="lastName" 
                            class="form-control" 
                            placeholder="Last Name" 
                            required>
                        <div role="alert">
                            <p class="help-block error-text">Last name is required.</p>
                        </div>
                    </div>
                </div>

                <!-- EMAIL -->
                <!-- =============================================================================================== -->
                <div class="row">
                    <div class="form-group col-sm-8" show-errors>
                        <label for="email">Email</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-control" 
                            placeholder="email@example.com" 
                            lowercase 
                            required>
                        <div role="alert">
                            <p class="help-block error-text">Email address is required.</p>
                            <p class="help-block error-text">Email address is invalid.</p>
                        </div>
                    </div>
                </div>

                <!-- USER TYPE (formerly "team lead type")-->
                <!-- =============================================================================================== -->
                <fieldset class="form-group">
                    <div class="row">     
                        <legend class="col-form-label col-sm-2 pt-0">User Type</legend>
                        <div class="col-sm-12">
                            <p class="form-text">
                                Select the type that most closely describes what you do.  
                                "Community scientist" is the term we use for a volunteer citizen scientist.
                            </p>
                        </div>    
                        <div class="col-sm-12" show-errors>
                            <div class="form-check">
                                <label
                                    class="form-check-label"
                                    for="teacher">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="teacher"
                                        name="teamLeadType"
                                        value="teacher"
                                        required
                                    >
                                    Teacher
                                </label>
                            </div>
                            <div class="form-check">
                                <label
                                    class="form-check-label"
                                    for="partner">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="partner"
                                        name="teamLeadType"
                                        value="partner"
                                        required
                                    >
                                    Non-profit Partner / Informal Educator
                                </label>
                            </div>
                            <div class="form-check">
                                <label
                                    class="form-check-label"
                                    for="communityScientist">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="communityScientist"
                                        name="teamLeadType"
                                        value="citizen scientist"
                                        required
                                    >
                                    Community Scientist
                                </label>
                            </div>
                            <div class="form-check">
                                <label
                                    class="form-check-label"
                                    for="professionalScientist">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="professionalScientist"
                                        name="teamLeadType"
                                        value="professional scientist"
                                        required
                                    >
                                    Professional Scientist
                                </label>
                            </div>
                            <div class="form-check">
                                <label
                                    class="form-check-label"
                                    for="other">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="other"
                                        name="teamLeadType"
                                        value="other"
                                        required
                                    >
                                    Other
                                </label>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <!-- SCHOOL TYPE (if user type == teacher) -->
                <!-- =============================================================================================== -->
                <fieldset class="form-group">
                    <div class="row">     
                        <legend class="col-form-label col-sm-2 pt-0">School Type</legend>   
                        <div class="col-sm-12">
                            <p class="form-text">
                                Select whether your school is a NYC public, NYC charter, private, or public/charter school from outside NYC.  
                                (We use this field to automatically populate information about NYC public schools.)
                            </p>
                        </div> 
                        <div class="col-sm-12" show-errors>
                            <div class="form-check">
                                <label 
                                    class="form-check-label"
                                    for="nyc-public">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="nyc-public"
                                        name="schoolType"
                                        value="nyc-public"
                                        required
                                    >
                                    NYC Public
                                </label>
                            </div>
                            <div class="form-check">
                                <label 
                                    class="form-check-label"
                                    for="nyc-charter">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="nyc-charter"
                                        name="schoolType"
                                        value="nyc-charter"
                                        required
                                    >
                                    NYC Charter
                                </label>
                            </div>
                            <div class="form-check">
                                <label 
                                    class="form-check-label"
                                    for="private">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="private"
                                        name="schoolType"
                                        value="private"
                                        required
                                    >
                                    Private
                                </label>
                            </div>
                            <div class="form-check">
                                <label 
                                    class="form-check-label"
                                    for="other-public">
                                    <input
                                        class="form-check-input"
                                        type="radio"
                                        id="other-public"
                                        name="schoolType"
                                        value="other-public"
                                        required
                                    >
                                    Other municipality public/charter
                                </label>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <!-- ORGANIZATION -->
                <!-- =============================================================================================== -->

                <!-- NYC Public Schools: only shows for users who are NYC public school teachers -->
                <div class="row">
                    <div class="form-group col-sm-12" show-errors>
                        <label for="schoolOrg">Organization (NYC Public School)</label>    
                        <p class="form-text">
                            Click the field below to start typing your school's name or ATS code, then select your school from the dropdown list.
                        </p>     
                        <div class="input-group">
                            <input
                                type="text"
                                class="form-control typeahead w-100"
                                name="schoolOrg"
                                data-typeahead-url="/api/school-orgs/"
                                data-typeahead-field="name"
                            >
                        </div>
                        <small class="form-text">
                            Note: If you work at a NYC public school, your school should already appear as an organization in this list.  
                            If you don't see your NYC public school on the list, contact <a href="mailto:bop.digital.platform@nyharbor.org">bop.digital.platform@nyharbor.org</a>.
                        </small>
                    </div>
                </div>

                <!-- Everyone Else -->
                <div class="row">
                    <div class="form-group col-sm-12" show-errors>
                        <label for="schoolOrg">Organization</label>                       
                        <p class="form-text">
                            Click the field below to start typing your organization's name, then
                            select your organization from the dropdown list.  If you're a
                            community scientist who isn't representing an organization, select
                            "Unaffiliated/None."
                        </p>
                        <p class="form-text">
                            If your organization is not listed below, you can
                            <a href="">add an organization</a>- but please check if your organization is already in our system first!
                        </p>
                        <div class="input-group">
                            <input
                                type="text"
                                class="form-control typeahead w-100"
                                name="schoolOrg"
                                data-typeahead-url="/api/school-orgs/"
                                data-typeahead-field="name"
                            >
                        </div>
                        <small class="form-text">
                            Note: only select "Billion Oyster Project" if you are a staff member at Billion Oyster Project.
                        </small>
                    </div>
                </div>

                <!-- USERNAME -->
                <!-- =============================================================================================== -->
                <div class="row">
                    <div class="form-group col-sm-12" show-errors>
                        <label for="username">Username</label>
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            class="form-control"
                            placeholder="Username" 
                            lowercase
                            required
                        >
                        <div role="alert">
                            <p class="help-block error-text">Username is required.</p>
                        </div>
                    </div>
                    <div class="form-group col-sm-6" show-errors>
                        <label for="password">Password</label>
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            class="form-control"
                            placeholder="Password" 
                            password-validator 
                            required
                        >
                        <div role="alert">
                            <p class="help-block error-text">Password is required.</p>
                            <div>
                                <p class="help-block"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACCEPT T&C -->
                <!-- =============================================================================================== -->
                <div class="row">
                    <div class="col-sm-12 text-right">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" required> I agree to the Terms of Use
                            </label>
                        </div>
                    </div>
                </div>

            <!-- SUBMIT -->
            <!-- =============================================================================================== -->
            <div class="row">
                <div class="col-sm-12 text-right form-group">
                    <button id="signup" type="submit" class="btn btn-primary pull-right">Sign up</button>
                </div>
            </div>
        </div>
    </form>
</section>