!function(t){"use strict";t.fn.btComboBox=function(a){if("disable"==a){var r=t(this);return 0==r.length?r:(r.each(function(a,r){t(".btn",r).attr("disabled","disabled")}),r)}if("enable"==a){var r=t(this);return 0==r.length?r:(r.each(function(a,r){t(".btn",r).removeAttr("disabled")}),r)}if("values"==a){var n=[];return t("li a",t(this)).each(function(a,r){n.push(t(r).attr("href"))}),n}var e=function(a){var r=t(".active a",a);if(r.length)return[r.attr("href"),r.text(),r];var n=t("li:first-child a",a);return n.length?[n.attr("href"),n.text(),n]:null};if("selectedOption"==a)return e(t(this));var i=function(t){var a=e(t);return a?a[0]:null};if("value"==a)return i(t(this));var l=function(a){return t("li",a).remove(),a},u=function(a,r,n,e){var i=e?e.attr("href"):null,l=e?e.text():"",u=t("#"+a+"-hid"),o=u.val(),c=e?e.parent():null;return u.val(i),i==o&&c&&c.hasClass("active")?!1:(t(".label",n).text(l),t(".active",r).removeClass("active"),e&&e.parent().addClass("active"),t("#"+a).trigger("change"),!1)},o=function(a,r){var n=a.attr("id"),e=t(".btn",a),i=t("li a[href='"+r+"']",a);return 0==i.length?!1:(u(n,a,e,i),!0)};if(a&&"select"==a.action){var c=a.value;if(!c)return;var r=t(this);return r.each(function(a,r){o(t(r),c)}),r}if("clear"==a)return t(this).each(function(a,r){var n=t(r),e=n.attr("id"),i=t(".btn",n);l(n),u(e,n,i,null)});var s=function(t,a){var r;if(t&&(r=t.length)){for(var n=a&&"function"==typeof a?a:function(t){return t},e=[],i=0;r>i;i++)e.push(n(t[i]));return e}},f=function(a,r){for(var n,e=a.attr("id"),i=t(".btn",a),l=r.length,c=t("ul",a),s=0;l>s;s++)n=r[s],"_"!=n[0]||n[1]?t('<a href="'+n[0]+'" title="'+n[1]+'">'+n[1]+"</a>").appendTo(t("<li></li>").appendTo(c)).click(function(){var r=u(e,a,i,t(this));return i.dropdown("toggle"),r}):t('<li class="divider"></li>').appendTo(c);o(a,t("#"+e+"-hid").val())};if(a&&"load"==a.action){var r=t(this);if(0==r.length)return r;var h=s(a.pairs,a.extractor);return r.each(function(a,r){f(t(r),h)}),r}if(a&&"reset"==a.action){var r=t(this);if(0==r.length)return r;var h=s(a.pairs,a.extractor);return r.each(function(a,r){var n=t(r),e=n.attr("id"),o=t(".btn",n),c=i(n);l(n),f(n,h);var s=t("li a[href='"+c+"']",n);u(e,n,o,1==s.length?s:null)}),r}var v="";return t(this).each(function(a,r){var n=t(r);if(!n.hasClass("btn-group")){var i=n.attr("id"),l=n.attr("value"),c=n.attr("data-btn-class"),s=c&&""!=c?" "+c:"",f=t('<button type="button" class="btn'+s+' dropdown-toggle" data-toggle="dropdown"><span class="label"></span><span class="caret"></span></button>').attr("name",n.attr("name")).attr("id",i+"-tog"),h=(t(".label",f),t('<ul class="dropdown-menu" role="menu"></ul>'));t("option",n).each(function(a,r){var n=t(r);t('<li><a href="'+n.val()+'">'+n.text()+"</a></li>").appendTo(h)}),t('<input type="hidden" name="'+n.attr("name")+'" id="'+i+'-hid" value="'+(l?l:"")+'" />').insertAfter(n);var d=n.attr("class"),p=d&&""!=d?" "+d:"",g=t('<div class="btn-group '+p+'"></div>').attr("id",i).append(f).append(h);if(!o(g,l)&&!l){var b=e(g);b&&u(i,g,f,b[2])}t("li > a",g).click(function(){var a=t(this),r=u(i,g,f,a);return f.dropdown("toggle"),r}),f.click(function(){var a=g.width();t("ul",g).css({"min-width":a}).width(a)}),n.replaceWith(g),""==v?v="#"+i:v+=",#"+i}}),t(v)}}(jQuery);
